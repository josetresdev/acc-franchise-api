spring:
  # ===================== Application name =====================
  application:
    name: acc-franchise-api  # Name of the Spring Boot application

  # ===================== Active profile =====================
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:local}  # Use the environment variable or default to 'local'

  # ===================== R2DBC (Reactive Database Connection) =====================
  r2dbc:
    url: ${SPRING_R2DBC_URL}              # R2DBC connection URL (from environment)
    username: ${SPRING_R2DBC_USERNAME}    # Database username
    password: ${SPRING_R2DBC_PASSWORD}    # Database password
    pool:
      enabled: true                       # Enable connection pooling
      initial-size: ${DB_POOL_INITIAL_SIZE:2}  # Initial pool size
      max-size: ${DB_POOL_MAX_SIZE:10}         # Maximum number of connections in the pool
      max-idle-time: ${DB_POOL_MAX_IDLE_TIME:30s} # Maximum idle time for connections
      validation-query: SELECT 1          # Query to validate connections

  # ===================== SQL Initialization =====================
  # IMPORTANT: Spring will NOT create or modify schema automatically
  sql:
    init:
      mode: never

# ===================== Server Configuration =====================
server:
  port: ${SERVER_PORT:8091}  # Server port, default 8091

# ===================== Logging Configuration =====================
logging:
  level:
    root: INFO                       # Default log level
    org.springframework.r2dbc: DEBUG  # Logs for Spring R2DBC
    io.r2dbc.mysql: DEBUG             # Logs for MySQL R2DBC driver
    reactor.netty: DEBUG              # Logs for Netty TCP connections
    org.springframework.web: DEBUG    # Logs for Spring WebFlux
